(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{11647:(e,t,a)=>{"use strict";a.d(t,{E:()=>s});var r=a(95155);a(12115);var n=a(83101),i=a(64269);let o=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-500/80",info:"border-transparent bg-blue-500 text-white hover:bg-blue-500/80"}},defaultVariants:{variant:"default"}});function s(e){let{className:t,variant:a,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)(o({variant:a}),t),...n})}},14585:(e,t,a)=>{"use strict";a.d(t,{IG:()=>m,db:()=>l,j2:()=>d});var r=a(52078),n=a(19708),i=a(58134),o=a(59253);let s=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyAeNVPO7H0mlsM3FXjjZJqpeB5Fi6ITISw",authDomain:"libera-energia-soci.firebaseapp.com",projectId:"libera-energia-soci",storageBucket:"libera-energia-soci.firebasestorage.app",messagingSenderId:"371255545862",appId:"1:371255545862:web:295479b2e6d2dadebaf387",measurementId:"G-4NWSYM1KPW"}),d=(0,o.xI)(s),l=(0,n.getFirestore)(s),m=(0,i.c7)(s)},15894:(e,t,a)=>{"use strict";a.d(t,{dj:()=>c});var r=a(12115);let n=0,i=new Map,o=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},s=[],d={toasts:[]};function l(e){d=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(d,e),s.forEach(e=>{e(d)})}function m(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>l({type:"DISMISS_TOAST",toastId:a});return l({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function c(){let[e,t]=r.useState(d);return r.useEffect(()=>(s.push(t),()=>{let e=s.indexOf(t);e>-1&&s.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},43419:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(95155),n=a(12115),i=a(14585),o=a(19708),s=a(13328),d=a(89106),l=a(84668),m=a(86948),c=a(87270),u=a(11647),g=a(92033),f=a(15894);function h(){let[e]=(0,s.hD)(i.j2),[t,a]=(0,n.useState)([]),[h,p]=(0,n.useState)(!0),[b,v]=(0,n.useState)(null),{toast:x}=(0,f.dj)();return(0,n.useEffect)(()=>{(async()=>{if(!e)return p(!1);try{let t=(0,o.collection)(i.db,"users",e.uid,"attendances"),r=(0,o.query)(t,(0,o.orderBy)("lessonDate","desc")),n=(await (0,o.getDocs)(r)).docs.map(e=>({id:e.id,...e.data()}));a(n);let s=await (0,o.getDocs)((0,o.collection)(i.db,"users",e.uid,"totalLessons")),d=null;s.forEach(e=>{let t=e.data();"number"==typeof t.value&&(d=t.value)}),v(d)}catch(e){console.error("Error fetching attendances:",e),x({variant:"destructive",title:"Errore",description:"Impossibile caricare lo storico delle presenze."})}finally{p(!1)}})()},[e,x]),(0,r.jsxs)(m.Zp,{children:[(0,r.jsxs)(m.aR,{children:[(0,r.jsx)(m.ZB,{children:"Le Mie Presenze"}),(0,r.jsx)(m.BT,{children:"Qui trovi il riepilogo delle tue presenze a lezioni e stage."})]}),(0,r.jsx)(m.Wu,{children:h?(0,r.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,r.jsx)(g.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-4 text-lg font-semibold text-muted-foreground",children:["Presenze: ",t.length," / ",null!=b?b:"N/D"]}),(0,r.jsxs)(c.XI,{children:[(0,r.jsx)(c.A0,{children:(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nd,{children:"Data"}),(0,r.jsx)(c.nd,{children:"Orario"}),(0,r.jsx)(c.nd,{children:"Disciplina"}),(0,r.jsx)(c.nd,{children:"Palestra"}),(0,r.jsx)(c.nd,{className:"text-center",children:"Stato"})]})}),(0,r.jsx)(c.BF,{children:t.length>0?t.map(e=>(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nA,{className:"font-medium capitalize",children:e.lessonDate?(0,d.GP)(e.lessonDate.toDate(),"eeee, dd MMMM yyyy",{locale:l.it}):"N/D"}),(0,r.jsx)(c.nA,{children:e.lessonTime}),(0,r.jsx)(c.nA,{children:e.discipline}),(0,r.jsx)(c.nA,{children:e.gymName}),(0,r.jsx)(c.nA,{className:"text-center",children:(0,r.jsx)(u.E,{variant:"presente"===e.status?"success":"secondary",children:(e=>{switch(e){case"presente":return"Presente";case"assente":return"Assente";default:return e}})(e.status)})})]},e.id)):(0,r.jsx)(c.Hj,{children:(0,r.jsx)(c.nA,{colSpan:5,className:"text-center h-24",children:"Nessuna presenza registrata."})})})]})]})})]})}},45701:(e,t,a)=>{Promise.resolve().then(a.bind(a,43419))},64269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var r=a(2821),n=a(75889);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,r.$)(t))}},84668:(e,t,a)=>{"use strict";a.d(t,{it:()=>f});let r={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi\xf9 di un anno",other:"pi\xf9 di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}};var n=a(89821);let i={date:(0,n.k)({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,n.k)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,n.k)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};var o=a(39089);function s(e,t,a){return+(0,o.k)(e,a)==+(0,o.k)(t,a)}let d=["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"];function l(e){return"'"+d[e]+" alle' p"}let m={lastWeek:(e,t,a)=>{let r=e.getDay();return s(e,t,a)?l(r):function(e){return 0===e?"'domenica scorsa alle' p":"'"+d[e]+" scorso alle' p"}(r)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,a)=>{let r=e.getDay();return s(e,t,a)?l(r):function(e){return 0===e?"'domenica prossima alle' p":"'"+d[e]+" prossimo alle' p"}(r)},other:"P"};var c=a(86535);let u={ordinalNumber:(e,t)=>String(Number(e)),era:(0,c.o)({values:{narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},defaultWidth:"wide"}),quarter:(0,c.o)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,c.o)({values:{narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},defaultWidth:"wide"}),day:(0,c.o)({values:{narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"]},defaultWidth:"wide"}),dayPeriod:(0,c.o)({values:{narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},defaultWidth:"wide",formattingValues:{narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},defaultFormattingWidth:"wide"})};var g=a(53671);let f={code:"it",formatDistance:(e,t,a)=>{let n,i=r[e];if(n="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null==a?void 0:a.addSuffix)if(a.comparison&&a.comparison>0)return"tra "+n;else return n+" fa";return n},formatLong:i,formatRelative:(e,t,a,r)=>{let n=m[e];return"function"==typeof n?n(t,a,r):n},localize:u,match:{ordinalNumber:(0,a(13393).K)({matchPattern:/^(\d+)(ยบ)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,g.A)({matchPatterns:{narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^a/i,/^(d|e)/i]},defaultParseWidth:"any"}),quarter:(0,g.A)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](ยบ)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,g.A)({matchPatterns:{narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,g.A)({matchPatterns:{narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|รฌ]|marted[i|รฌ]|mercoled[i|รฌ]|gioved[i|รฌ]|venerd[i|รฌ]|sabato)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},defaultParseWidth:"any"}),dayPeriod:(0,g.A)({matchPatterns:{narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}}},86948:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>m,ZB:()=>d,Zp:()=>o,aR:()=>s,wL:()=>c});var r=a(95155),n=a(12115),i=a(64269);let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});o.displayName="Card";let s=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...n})});s.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});d.displayName="CardTitle";let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...n})});l.displayName="CardDescription";let m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...n})});m.displayName="CardContent";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...n})});c.displayName="CardFooter"},87270:(e,t,a)=>{"use strict";a.d(t,{A0:()=>s,BF:()=>d,Hj:()=>l,XI:()=>o,nA:()=>c,nd:()=>m});var r=a(95155),n=a(12115),i=a(64269);let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",a),...n})})});o.displayName="Table";let s=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",a),...n})});s.displayName="TableHeader";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",a),...n})});d.displayName="TableBody",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...n})}).displayName="TableFooter";let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...n})});l.displayName="TableRow";let m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...n})});m.displayName="TableHead";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...n})});c.displayName="TableCell",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a),...n})}).displayName="TableCaption"}},e=>{e.O(0,[2992,7138,4909,3947,7134,3328,9106,8441,1255,7358],()=>e(e.s=45701)),_N_E=e.O()}]);