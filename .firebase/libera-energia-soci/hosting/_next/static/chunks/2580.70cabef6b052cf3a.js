"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2580],{22580:(a,e,s)=>{s.d(e,{refundUserBonus:()=>r});var t=s(14585),u=s(19708);async function r(a,e,s){let r=(0,u.doc)(t.db,"users",a,"userAwards",e),o=await (0,u.getDoc)(r);if(!o.exists())throw Error("Premio non trovato");let d=o.data(),n=Math.max(0,d.usedValue-s),c=Math.max(0,d.value-n);await (0,u.updateDoc)(r,{usedValue:n,residuo:c,used:0===c})}}}]);